<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>奇美醫院 OSCE 測驗評量系統</title>

  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body{font-family:"Noto Sans TC",sans-serif;background:#F0F4F8;margin:0}
    /* 背景粒子 (純裝飾，可拿掉) */
    @keyframes fly{0%{transform:translateY(0);opacity:.8}50%{transform:translateY(-60px);opacity:.4}100%{transform:translateY(-120px);opacity:0}}
    .particle{position:absolute;border-radius:50%;background:#fff6;animation:fly 12s linear infinite}
  </style>
</head>
<body class="relative overflow-hidden min-h-screen flex flex-col items-center">

  <!-- 粒子背景 (隨機幾顆) -->
  <script>
    for(let i=0;i<15;i++){
      const p=document.createElement('div');
      p.className='particle';
      p.style.cssText=`width:${2+Math.random()*4}px;height:${2+Math.random()*4}px;
        top:${Math.random()*100}%;left:${Math.random()*100}%;
        animation-delay:${Math.random()*8}s;`;
      document.body.appendChild(p);
    }
  </script>

  <!-- 標題 -->
  <h1 class="text-3xl md:text-5xl font-extrabold text-center mt-16 mb-20 text-blue-900 leading-tight">
    奇美醫療財團法人奇美醫院<br class="md:hidden">OSCE 測驗評分線上系統
  </h1>

  <!-- 三大入口 -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-10 w-full max-w-5xl px-6 mb-24">
    <!-- 考官 -->
    <button id="examiner-card" class="group p-10 rounded-2xl shadow-xl bg-purple-700 text-white
      flex flex-col items-center hover:scale-105 transition">
      <i data-lucide="user" class="w-14 h-14 mb-6"></i>
      <span class="text-3xl font-bold mb-2">考官</span>
      <span class="opacity-80">評分與管理考試流程</span>
    </button>

    <!-- 考生 -->
    <button id="student-card" class="group p-10 rounded-2xl shadow-xl bg-blue-800 text-white
      flex flex-col items-center hover:scale-105 transition">
      <i data-lucide="graduation-cap" class="w-14 h-14 mb-6"></i>
      <span class="text-3xl font-bold mb-2">考生</span>
      <span class="opacity-80">查看考試結果與回饋</span>
    </button>

    <!-- 管理者 -->
    <button id="admin-card" class="group p-10 rounded-2xl shadow-xl bg-green-700 text-white
      flex flex-col items-center hover:scale-105 transition">
      <i data-lucide="shield" class="w-14 h-14 mb-6"></i>
      <span class="text-3xl font-bold mb-2">管理者</span>
      <span class="opacity-80">系統設定與數據分析</span>
    </button>
  </div>

  <!-- 版權 -->
  <footer class="w-full text-center py-6 text-gray-600">
    © 2025 奇美醫院臨床技能中心
  </footer>

  <!-- ===== 登入 Modal (JS 動態插入) ===== -->
  <script>
    lucide.createIcons();          // 第一次載入 icon

    const roleName = {examiner:'考官',student:'考生',admin:'管理者'};
    const credentials = {
      examiner:{u:'B20401', p:'B20401', page:'examiner.html'},
      student :{u:'001',    p:'001',    page:'student.html' },
      admin   :{u:'admin',  p:'admin',  page:'admin.html'   }
    };

    // 監聽三個入口
    document.getElementById('examiner-card').onclick = ()=>showLogin('examiner');
    document.getElementById('student-card'  ).onclick = ()=>showLogin('student');
    document.getElementById('admin-card'    ).onclick = ()=>showLogin('admin');

    function showLogin(role){
      // 建立 modal HTML
      const modal=document.createElement('div');
      modal.id='login-modal';
      modal.className='fixed inset-0 bg-black/50 flex items-center justify-center z-50';
      modal.innerHTML=`
        <div class="bg-white rounded-2xl p-8 w-[90%] max-w-sm shadow-2xl">
          <h2 class="text-2xl font-bold mb-6 text-center text-blue-800">${roleName[role]} 登入</h2>

          <label class="block mb-4">
            <span class="block mb-2 font-semibold">帳號</span>
            <input id="login-user" class="w-full border rounded-lg px-4 py-2" placeholder="輸入帳號">
          </label>

          <label class="block mb-6">
            <span class="block mb-2 font-semibold">密碼</span>
            <input id="login-pass" type="password" class="w-full border rounded-lg px-4 py-2" placeholder="輸入密碼">
          </label>

          <p id="login-error" class="text-red-600 text-center font-bold mb-4 hidden"></p>

          <div class="flex justify-between">
            <button id="login-ok"   class="px-6 py-2 rounded-full text-white font-bold bg-blue-800 hover:bg-blue-900">登入</button>
            <button id="login-cancel" class="px-6 py-2 rounded-full font-bold bg-gray-400 hover:bg-gray-500 text-white">取消</button>
          </div>
        </div>`;
      document.body.appendChild(modal);
      lucide.createIcons();        // modal 內 icon 重新渲染

      // 事件
      document.getElementById('login-cancel').onclick = ()=>modal.remove();
      document.getElementById('login-ok').onclick = ()=>checkLogin(role);
      document.getElementById('login-pass').addEventListener('keydown',e=>{
        if(e.key==='Enter') checkLogin(role);
      });
    }

    function checkLogin(role){
      const u=document.getElementById('login-user').value.trim();
      const p=document.getElementById('login-pass').value.trim();
      const err=document.getElementById('login-error');
      const {u:eu,p:ep,page}=credentials[role];

      if(u===eu && p===ep){
        // 正確 → 直接跳轉
        window.location.href = page;
      }else{
        err.textContent='帳號或密碼錯誤';
        err.classList.remove('hidden');
      }
    }
  </script>
</body>
</html>
